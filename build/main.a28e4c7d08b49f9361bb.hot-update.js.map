{"version":3,"file":"main.a28e4c7d08b49f9361bb.hot-update.js","sources":["webpack:///./src/server.js","webpack:///external \"serialize-javascript\""],"sourcesContent":["import App from \"./App\";\nimport React from \"react\";\nimport { StaticRouter } from \"react-router-dom\";\nimport express from \"express\";\nimport { renderToString } from \"react-dom/server\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport serialize from \"serialize-javascript\"\nconst assets = require(process.env.RAZZLE_ASSETS_MANIFEST);\n\nconst server = express();\nserver\n  .disable(\"x-powered-by\")\n  .use(express.static(process.env.RAZZLE_PUBLIC_DIR))\n  .get(\"/*\", (req, res) => {\n\n    console.log(\"Request\",req)\n    const context = {};\n\n    const markup = renderToString(\n      <Provider store={store}>\n        <StaticRouter context={context} location={req.url}>\n          <App />\n        </StaticRouter>\n      </Provider>\n    );\n    if (context.url) {\n      res.redirect(context.url);\n    } else {\n      res.status(200).send(\n        `<!doctype html>\n    <html lang=\"\">\n    <head>\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n        <meta charset=\"utf-8\" />\n        <title>Welcome to Razzle</title>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n        ${\n          assets.client.css\n            ? `<link rel=\"stylesheet\" href=\"${assets.client.css}\">`\n            : \"\"\n        }\n        ${\n          process.env.NODE_ENV === \"production\"\n            ? `<script src=\"${assets.client.js}\" defer></script>`\n            : `<script src=\"${assets.client.js}\" defer crossorigin></script>`\n        }\n        <script>\n        window.INTIAL_STATE =${serialize(store.getState())}\n       </script>\n    </head>\n    <body>\n        <div id=\"root\">${markup}</div>\n    </body>\n</html>`\n      );\n    }\n  });\n\nexport default server;\n","module.exports = require(\"serialize-javascript\");"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAKA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AA2BA;AACA;AAEA;;;;;;;;;;;AC3DA;;;;A","sourceRoot":""}